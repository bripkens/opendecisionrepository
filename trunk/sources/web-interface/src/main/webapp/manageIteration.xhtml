<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition template="template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ice="http://www.icesoft.com/icefaces/component">

    <ui:define name="head">
        <link rel="stylesheet" type="text/css" href="resources/css/calendar.css" />
    </ui:define>

    <ui:define name="pagetitle">
        <ice:outputText value="#{page['iteration.page.title']}" nospan="true" />
        <ice:outputText value="#{iterationController.name}" rendered="#{iterationController.valid}" nospan="true"/>
    </ui:define>

    <ui:define name="content">
        <ice:form id="iterationForm" >
            <h1><h:outputText value="#{form['iteration.heading']}"/></h1>


            <div class="formSection">
                <ice:outputLabel value="#{form['label.name']}" for="inName"/>
                <ice:outputText value="#{form['constraint.required']}" styleClass="required" />
                <ice:inputText id="inName"
                               label="#{form['label.name']}"
                               maxlength="255"
                               value="#{iterationController.name}"
                               partialSubmit="true"
                               required="true">
                    <f:validateLength minimum="3" maximum="30" />

                    <f:validator validatorId="RegexValidator" />
                    <f:attribute name="inputCharset" value="A-Za-z0-9-_ " />

                    <f:validator validatorId="UserNameValidator" />
                </ice:inputText>
                <p>
                <ice:outputText value="#{form['constraint.minlength']}" nospan="true" /> 3;
                <ice:outputText value="#{form['constraint.maxlength']}" nospan="true" /> 30;
                <ice:outputText value="#{form['constraint.charset']}" nospan="true" /> [A-Za-z0-9-_ ];
                <ice:outputText value="#{form['constraint.username']}" nospan="true" />
                </p>
            </div>





            <div class="formSection">
                <ice:outputLabel value="#{form['label.description']}" for="inDescription" />
                <ice:inputText id="inDescription"
                               label="#{form['label.description']}"
                               maxlength="255"
                               partialSubmit="true"
                               value="#{iterationController.description}">
                </ice:inputText>
                <p>
                <ice:outputText value="#{form['iteration.description']}" nospan="true" /> 0;
                </p>
            </div>


            <!--STARTTIME-->


            <div class="formSection">
                <ice:outputLabel value="#{form['iteration.startDate']}" for="inStartDate"/>
                <ice:selectInputDate id="date1"
                                     value="#{iterationController.startDate}"
                                     imageDir="./resources/images/"
                                     renderAsPopup="true"
                                     styleClass="date">
                    <f:convertDateTime pattern="yyyy-MM-dd" type="date" dateStyle="medium" timeZone="#{timeZoneController.timeZone}"/>
                </ice:selectInputDate>

                <ice:outputLabel styleClass="hourlabel" value="Time:" for="inStartDateHour"/>

                <ice:selectOneListbox styleClass="dropdown hour" partialSubmit="true" id="inHour" value="#{iterationController.startHour}" size="1">
                    <f:selectItems id="inStartHourComponents"
                                   value="#{iterationController.hourItems}"/>
                </ice:selectOneListbox>

                <ice:outputLabel styleClass="h" value="h" for="inStartDateMinute"/>

                <ice:outputLabel styleClass="timedoublepoint" value=":" for="inStartDateMinute"/>

                <ice:selectOneListbox styleClass="dropdown minute" partialSubmit="true" id="inMinute" value="#{iterationController.startMinute}" size="1">

                    <f:selectItems id="inStartMinuteComponents"
                                   value="#{iterationController.minuteItems}"/>
                </ice:selectOneListbox>
                <ice:outputLabel styleClass="min" value="min" for="inStartDateMinute"/>

                <p class="constraintDate">
                <ice:outputText value="#{form['constraint.minlength']}" nospan="true" /> 0;
                <ice:outputText value="#{form['constraint.maxlength']}" nospan="true" /> 1000

                </p>
            </div>


            <!--            ENDTIME-->



            <div class="formSection">
                <ice:outputLabel value="#{form['iteration.endDate']}" for="inEndDate"/>
                <ice:selectInputDate id="date2"
                                     value="#{iterationController.endDate}"
                                     imageDir="./resources/images/"
                                     renderAsPopup="true"
                                     styleClass="date">
                    <f:convertDateTime pattern="yyyy-MM-dd" type="date" dateStyle="medium" timeZone="#{timeZoneController.timeZone}"/>
                </ice:selectInputDate>

                <ice:outputLabel styleClass="hourlabel" value="Time:" for="inEndDateHour"/>

                <ice:selectOneListbox styleClass="dropdown hour" id="adsf" partialSubmit="true" value="#{iterationController.endHour}" size="1">
                    <f:selectItems id="inEndHourComponents"
                                   value="#{iterationController.hourItems}"/>
                </ice:selectOneListbox>

                <ice:outputLabel styleClass="h" value="h" for="inStartDateMinute"/>

                <ice:outputLabel styleClass="timedoublepoint" value=":" for="inStartDateMinute"/>

                <ice:selectOneListbox styleClass="dropdown minute" id="ads" partialSubmit="true" value="#{iterationController.endMinute}" size="1">
                    <f:selectItems id="inEndMinuteComponents"
                                   value="#{iterationController.minuteItems}"/>
                </ice:selectOneListbox>
                <ice:outputLabel styleClass="min" value="min" for="inEndDateMinute"/>

                <p class="constraintDate">
                <ice:outputText value="#{form['constraint.minlength']}" nospan="true" /> 0;
                <ice:outputText value="#{form['constraint.maxlength']}" nospan="true" /> 1000

                </p>
            </div>


            <!--Submit Button-->
            <ice:commandButton actionListener="#{iterationController.submitForm}"
                               immediate="true"
                               partialSubmit="true"
                               value="#{form['button.submit']}"
                               styleClass="confirm"/>


            <!--Reset Button-->
            <ice:commandButton actionListener="#{iterationController.abortForm}"
                               value="#{form['button.cancel']}"
                               partialSubmit="true"
                               styleClass="abort"
                               type="abort" />

        </ice:form>
    </ui:define>

    <!--SIDEBAR-->
    <ui:define name="sidebar">
        <div id="help">
            <ul class="info">
                <li class="messages">
                    <div class="header"></div>
                    <div class="text">
                        <ice:messages layout="list"
                                      errorClass="error"
                                      warnClass="warning"
                                      fatalClass="fatal"
                                      infoClass="information" />
                    </div>
                </li>
                <li>
                    <div class="header">
                        <img src="resources/images/info.png" alt="information" />
                    </div>
                    <div class="text">
                        <h2>Iwas tolles :D</h2>
                        content?
                    </div>
                </li>
            </ul>
        </div>
    </ui:define>
</ui:composition>