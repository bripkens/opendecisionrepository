<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ice="http://www.icesoft.com/icefaces/component"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xml:lang="en">

    <composite:interface componentType="nl.rug.search.odr.component.DatetimePicker">
        <composite:attribute name="value" type="java.util.Date"/>

        <composite:attribute name="dateLabel" type="java.lang.String" default="" />
        <composite:attribute name="hourLabel" type="java.lang.String" default="" />
        <composite:attribute name="minuteLabel" type="java.lang.String" default="" />
        <composite:attribute name="datePattern" type="java.lang.String" default="yyyy-MM-dd" />
    </composite:interface>

    <composite:implementation>
        <div class="datetimepicker">
            <ice:outputLabel value="#{cc.attrs.dateLabel}"
                             for="date"
                             rendered="#{!(empty cc.attrs.dateLabel)}"
                             styleClass="datetimepickerDateLabel"/>
            <ice:selectInputDate id="date"
                                 renderAsPopup="true"
                                 imageDir="./resources/images/"
                                 styleClass="datetimepickerDate"
                                 label="#{cc.attrs.dateLabel}">
                <f:convertDateTime pattern="#{cc.attrs.datePattern}"
                                   type="date"
                                   timeZone="#{timeZoneController.timeZone}"/>
            </ice:selectInputDate>

            <ice:outputLabel value="#{cc.attrs.hourLabel}"
                             for="hours"
                             rendered="#{!(empty cc.attrs.hourLabel)}"
                             styleClass="datetimepickerHourLabel"/>
            <h:selectOneMenu id="hours"
                             converter="javax.faces.Integer"
                             styleClass="datetimepickerHour"
                             onchange="odr.datetimepickerValidationFix();">
                <f:selectItems value="#{datesController.hours}" />
            </h:selectOneMenu>

            <ice:outputLabel value="#{cc.attrs.minuteLabel}"
                             for="minutes"
                             rendered="#{!(empty cc.attrs.minuteLabel)}"
                             styleClass="datetimepickerMinuteLabel"/>
            <h:selectOneMenu id="minutes"
                             converter="javax.faces.Integer"
                             styleClass="datetimepickerMinute"
                             onchange="odr.datetimepickerValidationFix();">
                <f:selectItems value="#{datesController.minutes}" />
            </h:selectOneMenu>

            <ice:outputText
                id="timeZone"
                value="#{timeZoneController.timeZone.displayName}"
                styleClass="datetimepickerTimeZone" />
        </div>
    </composite:implementation>
</html>